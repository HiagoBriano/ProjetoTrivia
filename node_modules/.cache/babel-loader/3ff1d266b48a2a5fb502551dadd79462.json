{"ast":null,"code":"import { getToken } from '../redux/actions';\nexport const requestTriviaApi = async () => {\n  const link = 'https://opentdb.com/api_token.php?command=request';\n  const request = await fetch(link);\n  const response = await request.json();\n  localStorage.setItem('token', response.token);\n  return response.token;\n};\n\nconst fetchQuestionsAPi = async token => {\n  const link = `https://opentdb.com/api.php?amount=5&token=${token}`;\n  const request = await fetch(link);\n  const response = await request.json();\n  return response;\n};\n\nexport const requestQuestionsApi = async token => {\n  const ERROR_CODE_3 = 3;\n  const response = await fetchQuestionsAPi(token);\n\n  if (response.response_code === ERROR_CODE_3) {\n    const request = await requestTriviaApi();\n    getToken(request);\n    const newApiResult = await requestQuestionsApi(request);\n    return newApiResult;\n  }\n\n  return response;\n};","map":{"version":3,"sources":["/home/brenotainan/projetos/ProjetoTrivia/src/services/triviApi.js"],"names":["getToken","requestTriviaApi","link","request","fetch","response","json","localStorage","setItem","token","fetchQuestionsAPi","requestQuestionsApi","ERROR_CODE_3","response_code","newApiResult"],"mappings":"AAAA,SAASA,QAAT,QAAyB,kBAAzB;AAEA,OAAO,MAAMC,gBAAgB,GAAG,YAAY;AAC1C,QAAMC,IAAI,GAAG,mDAAb;AACA,QAAMC,OAAO,GAAG,MAAMC,KAAK,CAACF,IAAD,CAA3B;AACA,QAAMG,QAAQ,GAAG,MAAMF,OAAO,CAACG,IAAR,EAAvB;AAEAC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,QAAQ,CAACI,KAAvC;AACA,SAAOJ,QAAQ,CAACI,KAAhB;AACD,CAPM;;AASP,MAAMC,iBAAiB,GAAG,MAAOD,KAAP,IAAiB;AACzC,QAAMP,IAAI,GAAI,8CAA6CO,KAAM,EAAjE;AACA,QAAMN,OAAO,GAAG,MAAMC,KAAK,CAACF,IAAD,CAA3B;AACA,QAAMG,QAAQ,GAAG,MAAMF,OAAO,CAACG,IAAR,EAAvB;AAEA,SAAOD,QAAP;AACD,CAND;;AAQA,OAAO,MAAMM,mBAAmB,GAAG,MAAOF,KAAP,IAAiB;AAClD,QAAMG,YAAY,GAAG,CAArB;AAEA,QAAMP,QAAQ,GAAG,MAAMK,iBAAiB,CAACD,KAAD,CAAxC;;AAEA,MAAIJ,QAAQ,CAACQ,aAAT,KAA2BD,YAA/B,EAA6C;AAC3C,UAAMT,OAAO,GAAG,MAAMF,gBAAgB,EAAtC;AACAD,IAAAA,QAAQ,CAACG,OAAD,CAAR;AACA,UAAMW,YAAY,GAAG,MAAMH,mBAAmB,CAACR,OAAD,CAA9C;AACA,WAAOW,YAAP;AACD;;AAED,SAAOT,QAAP;AACD,CAbM","sourcesContent":["import { getToken } from '../redux/actions';\n\nexport const requestTriviaApi = async () => {\n  const link = 'https://opentdb.com/api_token.php?command=request';\n  const request = await fetch(link);\n  const response = await request.json();\n\n  localStorage.setItem('token', response.token);\n  return response.token;\n};\n\nconst fetchQuestionsAPi = async (token) => {\n  const link = `https://opentdb.com/api.php?amount=5&token=${token}`;\n  const request = await fetch(link);\n  const response = await request.json();\n\n  return response;\n};\n\nexport const requestQuestionsApi = async (token) => {\n  const ERROR_CODE_3 = 3;\n\n  const response = await fetchQuestionsAPi(token);\n\n  if (response.response_code === ERROR_CODE_3) {\n    const request = await requestTriviaApi();\n    getToken(request);\n    const newApiResult = await requestQuestionsApi(request);\n    return newApiResult;\n  }\n\n  return response;\n};\n"]},"metadata":{},"sourceType":"module"}